!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.gaAutocomplete=t():e.gaAutocomplete=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";var o={extend:function(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},ready:function(e){document.addEventListener("DOMContentLoaded",e)},hasClass:function(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)},listen:function(e,t,n){e.addEventListener(t,n)},unlisten:function(e,t,n){e.removeEventListener(t,n)},fixMissingStreetNumber:function(e,t){if(void 0===t.street_number){var n=e.match(/[0-9]{1,4}[\s|A-z]{1}/);n&&n.length&&(t.street_number=n[0].trim(),t.formatted_address=t.street_number+" "+t.formatted_address,t._missingstreetnmberfixed=!0)}else t.formatted_address=t.formatted_address||"";return t}};e.exports=o},function(e,t,n){"use strict";var o={data:{throttleTime:200,element:null,AutocompleteService:null,minLength:3,PlacesService:null,AutocompleteServiceOptions:{componentRestrictions:{country:"NZ"},types:["geocode"]},resultContainerSelector:".ga-address-container",validAddressTypes:["street_address"],addressTestRegex:/[a-zA-Z0-9-_\#\,\-\.\\\/ ]/,updateFields:function(e,t){}},get:function(e){return o.data[e]},set:function(e,t){o.data[e]=t}};e.exports=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(0),s=o(r),i=n(1),c=o(i),u=n(3),a=o(u),d={init:function(e,t){var n=document.querySelector.bind(document);s.default.ready(function(){return s.default.extend(c.default.data,t||{}),c.default.set("element",n(e)),null!==c.default.get("element")&&"undefined"!=typeof google&&("function"==typeof google.maps.places.AutocompleteService&&c.default.set("AutocompleteService",new google.maps.places.AutocompleteService),"function"==typeof google.maps.places.PlacesService&&c.default.set("PlacesService",new google.maps.places.PlacesService(document.createElement("div"))),void s.default.listen(c.default.get("element"),"keyup",a.default.search))})}};e.exports=d,e.exports.default=d},function(e,t,n){"use strict";var o=n(1),r=n(0),s=n(4),i=null,c={search:function(e){var t="number"==typeof e.which?e.which:e.keyCode,n=String.fromCharCode(t),r=this.value,u={};clearTimeout(i),t>0&&27!=t&&229!=t&&!o.get("addressTestRegex").test(n)||r.length>o.get("minLength")&&(u=o.get("AutocompleteServiceOptions"),u.input=r,i=setTimeout(function(){s.getAutocompletePredictions(o.get("AutocompleteService"),u,c.RenderListItems)},o.get("throttleTime")))},listItemClick:function(e){s.processResult(this.dataset),c.tidyUp()},RenderListItems:function(e){for(var t=document.querySelector(o.get("resultContainerSelector"));t.hasChildNodes();)t.removeChild(t.lastChild);Object.keys(e).forEach(function(n){var o=document.createElement("li");o.innerHTML=e[n].description,o.dataset.placeid=e[n].place_id,o.dataset.prediction=e[n].description,r.listen(o,"click",c.listItemClick),t.appendChild(o)}),t.style.display="block"},tidyUp:function(){for(var e=document.querySelector(o.get("resultContainerSelector"));e.hasChildNodes();)e.removeChild(e.lastChild);e.style.display="none",o.get("element").value=""}};e.exports=c},function(e,t,n){"use strict";var o=n(1),r=n(0),s={getAutocompletePredictions:function(e,t,n){var r="OK";return"undefined"!=typeof google&&(r=google.maps.places.PlacesServiceStatus.OK),e.getPlacePredictions(t,function(e,t){if(t!==r)return!1;var s=o.get("validAddressTypes");e=e.filter(function(e){var t=[];return e.types.forEach(function(e){s.find(function(t){return e===t})&&t.push(e)}),t.length}),n(e)}),!0},getAddressResults:function(e,t,n){e.getDetails({placeId:t},n)},processResult:function(e){var t=e.prediction.description||e.prediction,n={};s.getAddressResults(o.get("PlacesService"),e.placeid,function(e){e.address_components&&(e.address_components.forEach(function(e,t){n[e.types[0].toString()]=e.long_name}),n.formatted_address=e.formatted_address,n=r.fixMissingStreetNumber(t,n),o.get("updateFields")(n,e))})}};e.exports=s}])});